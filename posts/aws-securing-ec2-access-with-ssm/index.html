<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Securing EC2 Access with AWS Systems Manager Session Manager: Eliminating SSH | The Hidden Port</title>
<meta name=keywords content="AWS,EC2,Security,Session Manager,SSM,IAM,Cloud Security"><meta name=description content="A comprehensive guide to replacing SSH access with AWS Systems Manager Session Manager for EC2 instances, enhancing security and compliance."><meta name=author content="Javier Pulido"><link rel=canonical href=https://thehiddenport.dev/posts/securing-ec2-access-with-ssm><link crossorigin=anonymous href=/assets/css/stylesheet.08f7d74f0ada0f975d29ae436285b61ed7a719d05f350cb888d00341642995a2.css integrity="sha256-CPfXTwraD5ddKa5DYoW2HtenGdBfNQy4iNADQWQplaI=" rel="preload stylesheet" as=style><link rel=icon href=https://thehiddenport.dev/favicon.png><link rel=icon type=image/png sizes=16x16 href=https://thehiddenport.dev/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://thehiddenport.dev/favicon-32x32.png><link rel=apple-touch-icon href=https://thehiddenport.dev/apple-touch-icon.png><link rel=mask-icon href=https://thehiddenport.dev/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://thehiddenport.dev/posts/aws-securing-ec2-access-with-ssm/><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><script type=application/ld+json>{"@context":"https://schema.org","@type":"TechArticle","headline":"Securing EC2 Access with AWS Systems Manager Session Manager: Eliminating SSH","datePublished":"2025-06-03","author":{"@type":"Person","name":"Javier Pulido"},"publisher":{"@type":"Organization","name":"The Hidden Port"},"description":"A comprehensive guide to replacing SSH access with AWS Systems Manager Session Manager for EC2 instances, enhancing security and compliance.","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/thehiddenport.dev\/posts\/aws-securing-ec2-access-with-ssm\/"}}</script><link rel=icon type=image/png href=/favicon-32x32.png sizes=32x32><link rel=icon href=/favicon.ico type=image/x-icon><meta property="og:title" content="Securing EC2 Access with AWS Systems Manager Session Manager: Eliminating SSH"><meta property="og:type" content="article"><meta property="og:description" content="A comprehensive guide to replacing SSH access with AWS Systems Manager Session Manager for EC2 instances, enhancing security and compliance."><meta property="og:url" content="https://thehiddenport.dev/posts/aws-securing-ec2-access-with-ssm/"><meta property="og:image" content="https://thehiddenport.dev/images/default-preview.png"><meta name=twitter:card content="summary_large_image"><meta name=twitter:title content="Securing EC2 Access with AWS Systems Manager Session Manager: Eliminating SSH"><meta name=twitter:description content="A comprehensive guide to replacing SSH access with AWS Systems Manager Session Manager for EC2 instances, enhancing security and compliance."><meta name=twitter:image content="https://thehiddenport.dev/images/default-preview.png"><link rel=canonical href=https://thehiddenport.dev/posts/aws-securing-ec2-access-with-ssm/><script src=https://analytics.ahrefs.com/analytics.js data-key=b4q7XOS5/fFZL+c9Jfry7Q async></script><link rel=alternate type=application/rss+xml title="The Hidden Port RSS Feed" href=/index.xml><script async src="https://www.googletagmanager.com/gtag/js?id=G-NJW0JJBT7G"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-NJW0JJBT7G")</script><script>(function(e,t,n,s,o){e[s]=e[s]||[],e[s].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var a=t.getElementsByTagName(n)[0],i=t.createElement(n),r=s!="dataLayer"?"&l="+s:"";i.async=!0,i.src="https://www.googletagmanager.com/gtm.js?id="+o+r,a.parentNode.insertBefore(i,a)})(window,document,"script","dataLayer","GTM-KZ4PZK7D")</script><meta property="og:url" content="https://thehiddenport.dev/posts/aws-securing-ec2-access-with-ssm/"><meta property="og:site_name" content="The Hidden Port"><meta property="og:title" content="Securing EC2 Access with AWS Systems Manager Session Manager: Eliminating SSH"><meta property="og:description" content="A comprehensive guide to replacing SSH access with AWS Systems Manager Session Manager for EC2 instances, enhancing security and compliance."><meta property="og:locale" content="en-us"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2025-06-03T00:00:00+00:00"><meta property="article:modified_time" content="2025-06-03T00:00:00+00:00"><meta property="article:tag" content="Aws"><meta property="article:tag" content="EC2"><meta property="article:tag" content="Security"><meta property="article:tag" content="Session Manager"><meta property="article:tag" content="Ssm"><meta property="article:tag" content="Iam"><meta name=twitter:card content="summary"><meta name=twitter:title content="Securing EC2 Access with AWS Systems Manager Session Manager: Eliminating SSH"><meta name=twitter:description content="A comprehensive guide to replacing SSH access with AWS Systems Manager Session Manager for EC2 instances, enhancing security and compliance."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://thehiddenport.dev/posts/"},{"@type":"ListItem","position":2,"name":"Securing EC2 Access with AWS Systems Manager Session Manager: Eliminating SSH","item":"https://thehiddenport.dev/posts/aws-securing-ec2-access-with-ssm/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Securing EC2 Access with AWS Systems Manager Session Manager: Eliminating SSH","name":"Securing EC2 Access with AWS Systems Manager Session Manager: Eliminating SSH","description":"A comprehensive guide to replacing SSH access with AWS Systems Manager Session Manager for EC2 instances, enhancing security and compliance.","keywords":["AWS","EC2","Security","Session Manager","SSM","IAM","Cloud Security"],"articleBody":"Introduction Traditional SSH access to EC2 instances poses several security challenges, including the management of SSH keys, exposure of ports, and lack of centralized auditing. AWS Systems Manager Session Manager offers a secure and auditable alternative, allowing you to manage EC2 instances without opening inbound ports or maintaining bastion hosts.\nThis guide provides a step-by-step approach to configuring Session Manager for secure EC2 access, aligning with AWS’s official documentation and best practices.\nPrerequisites Before proceeding, ensure the following:\nSSM Agent Installed: Amazon EC2 instances must have the SSM Agent installed. Amazon Linux 2 and Ubuntu 16.04 or later come with the agent pre-installed. For other operating systems, refer to the SSM Agent installation guide.\nIAM Role with SSM Permissions: Instances require an IAM role with the AmazonSSMManagedInstanceCore policy attached. This policy grants the necessary permissions for Systems Manager to manage the instance.\nOutbound Internet Access or VPC Endpoints: Instances must be able to communicate with Systems Manager endpoints. This can be achieved via outbound internet access (e.g., through a NAT gateway) or by configuring VPC endpoints for Systems Manager.\nStep 1: Create an IAM Role for SSM Navigate to the IAM Console.\nSelect Roles \u003e Create role.\nChoose AWS service as the trusted entity and select EC2.\nClick Next: Permissions.\nAttach the AmazonSSMManagedInstanceCore policy.\nProceed through the remaining steps to name and create the role.\nStep 2: Attach the IAM Role to EC2 Instances Open the EC2 Console.\nSelect the instance(s) you wish to manage.\nChoose Actions \u003e Security \u003e Modify IAM Role.\nSelect the IAM role created in Step 1 and apply the changes.\nStep 3: Verify SSM Agent Status Ensure the SSM Agent is running on your instance:\nsudo systemctl status amazon-ssm-agent If the agent is not running, start it with:\nsudo systemctl start amazon-ssm-agent Step 4: Connect to the Instance Using Session Manager With the IAM role attached and the SSM Agent running, you can initiate a session:\nUsing AWS Console Navigate to the Systems Manager Console.\nSelect Session Manager \u003e Start session.\nChoose the instance and click Start session.\nUsing AWS CLI Ensure you have the Session Manager plugin installed.\nInitiate a session with:\naws ssm start-session --target i-0123456789abcdef0 Replace i-0123456789abcdef0 with your instance ID.\nStep 5: Enhance Security by Disabling SSH Access After verifying that Session Manager access works as intended, you can enhance security by disabling SSH access:\nSecurity Groups: Remove inbound rules for port 22.\nKey Pairs: Avoid assigning key pairs to instances.\nBastion Hosts: Decommission any bastion hosts used for SSH access.\nThis approach reduces the attack surface and aligns with the principle of least privilege.\nStep 6: Configure Logging for Auditing To maintain an audit trail of session activity:\nIn the Systems Manager Console, navigate to Session Manager \u003e Preferences.\nClick Edit and enable logging.\nChoose to send session logs to Amazon S3 and/or Amazon CloudWatch Logs.\nThis configuration ensures that all session activity is recorded for compliance and auditing purposes.\nAbsolutely! Let’s enhance your article by adding two comprehensive sections: Common Issues and Troubleshooting and Monitoring SSM Agent with CloudWatch. These additions will provide readers with practical insights into potential pitfalls and proactive monitoring strategies.\nCommon Issues and Troubleshooting While AWS Systems Manager Session Manager offers a secure and efficient method for managing EC2 instances, users may encounter certain challenges during setup or operation. Below are some common issues and their resolutions:\n1. Instance Not Appearing in Session Manager Issue: The EC2 instance does not appear in the Session Manager console.\nPossible Causes and Solutions:\nSSM Agent Not Installed or Running: Ensure that the SSM Agent is installed and actively running on the instance. For Amazon Linux 2 and Ubuntu 16.04 or later, the agent is pre-installed. For other operating systems, refer to the SSM Agent installation guide.\nMissing IAM Role or Incorrect Permissions: Verify that the instance has an IAM role attached with the AmazonSSMManagedInstanceCore policy. This policy grants the necessary permissions for Systems Manager to manage the instance.\nNetwork Connectivity Issues: The instance must be able to communicate with Systems Manager endpoints. Ensure that the instance has outbound internet access or is configured with the appropriate VPC endpoints for Systems Manager.\n2. Session Initiation Fails Issue: Attempting to start a session results in an error.\nPossible Causes and Solutions:\nSSM Agent Version Incompatibility: Ensure that the SSM Agent is updated to the latest version. Older versions may lack support for certain features or have known issues.\nSession Manager Plugin Missing: When using the AWS CLI, the Session Manager plugin must be installed. Follow the installation instructions to set it up.\nIAM User Permissions: The IAM user initiating the session must have the necessary permissions, such as ssm:StartSession. Review and update IAM policies as needed.\n3. SSM Agent Connectivity Issues Issue: The SSM Agent cannot connect to Systems Manager endpoints.\nPossible Causes and Solutions:\nFirewall or Security Group Restrictions: Ensure that the instance’s security groups and network ACLs allow outbound HTTPS (port 443) traffic to Systems Manager endpoints.\nDNS Resolution Problems: Verify that the instance can resolve domain names. Misconfigured DNS settings can prevent the agent from reaching AWS services.\nEndpoint Configuration: If using VPC endpoints, confirm that they are correctly configured and associated with the appropriate route tables and security groups.\nFor a comprehensive troubleshooting guide, refer to the AWS Systems Manager Troubleshooting Documentation.\nMonitoring SSM Agent with CloudWatch Proactive monitoring of the SSM Agent ensures that you are promptly alerted to any issues, maintaining the reliability and security of your EC2 instances. Here’s how to set up monitoring using Amazon CloudWatch:\n1. Send SSM Agent Logs to CloudWatch Logs Steps:\nCreate a CloudWatch Log Group: In the CloudWatch console, create a log group to store SSM Agent logs.\nConfigure the SSM Agent to Send Logs: Modify the SSM Agent configuration to send logs to the newly created log group. This can be done by editing the agent’s configuration file or using Systems Manager Run Command.\nRestart the SSM Agent: After configuration, restart the SSM Agent to apply changes.\nFor detailed instructions, consult the AWS Systems Manager Monitoring Guide.\n2. Create Metric Filters and Alarms Steps:\nDefine Metric Filters: In the CloudWatch console, create metric filters to identify specific log events, such as agent start or stop events. For example, to detect when the agent stops:\nf i l t e r p a t t e r n : \" S t o p p i n g s s m a g e n t w o r k e r \" Create Alarms: Based on the metric filters, set up alarms to notify you when certain thresholds are met. For instance, if the agent stops unexpectedly, an alarm can trigger an SNS notification.\nSubscribe to Notifications: Ensure that relevant personnel are subscribed to the SNS topic to receive timely alerts.\nFor a practical example and additional guidance, refer to the AWS blog post on Monitoring the Health of AWS Systems Manager Agent Using Amazon CloudWatch.\nAdditional Considerations User Permissions: Control who can start sessions by defining IAM policies that grant ssm:StartSession permissions to specific users or roles.\nPort Forwarding: Session Manager supports port forwarding, allowing secure access to applications running on instances without opening additional ports.\nHybrid Environments: Session Manager can manage on-premises servers and virtual machines by registering them as managed instances.\nConclusion By leveraging AWS Systems Manager Session Manager, you can eliminate the need for SSH access to EC2 instances, thereby enhancing security, simplifying access management, and ensuring comprehensive auditing. This approach aligns with AWS’s best practices for secure and compliant infrastructure management.\nFor further reading on IAM misconfigurations and security risks, refer to my previous article: AWS IAM Misconfigurations: Security Risks and How to Fix Them.\nTo explore incident response strategies in AWS, check out: Incident Response in AWS: A Practical Playbook.\nFor tools to automate incident response, visit: AWS Incident Response Toolkit.\nLearn about securing temporary AWS credentials here: Securing Temporary AWS Credentials with STS.\n","wordCount":"1324","inLanguage":"en","datePublished":"2025-06-03T00:00:00Z","dateModified":"2025-06-03T00:00:00Z","author":[{"@type":"Person","name":"Javier Pulido"}],"mainEntityOfPage":{"@type":"WebPage","@id":"https://thehiddenport.dev/posts/aws-securing-ec2-access-with-ssm/"},"publisher":{"@type":"Organization","name":"The Hidden Port","logo":{"@type":"ImageObject","url":"https://thehiddenport.dev/favicon.png"}}}</script></head><body class=dark id=top><header class=header><nav class=nav><div class=logo><a href=https://thehiddenport.dev/ accesskey=h title="The Hidden Port (Alt + H)">The Hidden Port</a><div class=logo-switches></div></div><ul id=menu><li><a href=https://thehiddenport.dev/ title=Home><span>Home</span></a></li><li><a href=https://thehiddenport.dev/about/ title=About><span>About</span></a></li><li><a href=https://thehiddenport.dev/resources/ title=Resources><span>Resources</span></a></li><li><a href=https://thehiddenport.dev/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://thehiddenport.dev/blog/ title=Blog><span>Blog</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://thehiddenport.dev/>Home</a>&nbsp;»&nbsp;<a href=https://thehiddenport.dev/posts/>Posts</a></div><h1 class="post-title entry-hint-parent">Securing EC2 Access with AWS Systems Manager Session Manager: Eliminating SSH</h1><div class=post-description>A comprehensive guide to replacing SSH access with AWS Systems Manager Session Manager for EC2 instances, enhancing security and compliance.</div><div class=post-meta><span title='2025-06-03 00:00:00 +0000 UTC'>June 3, 2025</span>&nbsp;·&nbsp;7 min&nbsp;·&nbsp;1324 words&nbsp;·&nbsp;Javier Pulido</div></header><div class=post-content><h2 id=introduction>Introduction<a hidden class=anchor aria-hidden=true href=#introduction>#</a></h2><p>Traditional SSH access to EC2 instances poses several security challenges, including the management of SSH keys, exposure of ports, and lack of centralized auditing. AWS Systems Manager Session Manager offers a secure and auditable alternative, allowing you to manage EC2 instances without opening inbound ports or maintaining bastion hosts.</p><p>This guide provides a step-by-step approach to configuring Session Manager for secure EC2 access, aligning with AWS&rsquo;s official documentation and best practices.</p><h2 id=prerequisites>Prerequisites<a hidden class=anchor aria-hidden=true href=#prerequisites>#</a></h2><p>Before proceeding, ensure the following:</p><ul><li><p><strong>SSM Agent Installed</strong>: Amazon EC2 instances must have the SSM Agent installed. Amazon Linux 2 and Ubuntu 16.04 or later come with the agent pre-installed. For other operating systems, refer to the <a href=https://docs.aws.amazon.com/systems-manager/latest/userguide/ssm-agent.html>SSM Agent installation guide</a>.</p></li><li><p><strong>IAM Role with SSM Permissions</strong>: Instances require an IAM role with the <code>AmazonSSMManagedInstanceCore</code> policy attached. This policy grants the necessary permissions for Systems Manager to manage the instance.</p></li><li><p><strong>Outbound Internet Access or VPC Endpoints</strong>: Instances must be able to communicate with Systems Manager endpoints. This can be achieved via outbound internet access (e.g., through a NAT gateway) or by configuring <a href=https://docs.aws.amazon.com/systems-manager/latest/userguide/setup-create-vpc.html>VPC endpoints for Systems Manager</a>.</p></li></ul><h2 id=step-1-create-an-iam-role-for-ssm>Step 1: Create an IAM Role for SSM<a hidden class=anchor aria-hidden=true href=#step-1-create-an-iam-role-for-ssm>#</a></h2><ol><li><p>Navigate to the <a href=https://console.aws.amazon.com/iam/>IAM Console</a>.</p></li><li><p>Select <strong>Roles</strong> > <strong>Create role</strong>.</p></li><li><p>Choose <strong>AWS service</strong> as the trusted entity and select <strong>EC2</strong>.</p></li><li><p>Click <strong>Next: Permissions</strong>.</p></li><li><p>Attach the <strong>AmazonSSMManagedInstanceCore</strong> policy.</p></li><li><p>Proceed through the remaining steps to name and create the role.</p></li></ol><h2 id=step-2-attach-the-iam-role-to-ec2-instances>Step 2: Attach the IAM Role to EC2 Instances<a hidden class=anchor aria-hidden=true href=#step-2-attach-the-iam-role-to-ec2-instances>#</a></h2><ol><li><p>Open the <a href=https://console.aws.amazon.com/ec2/>EC2 Console</a>.</p></li><li><p>Select the instance(s) you wish to manage.</p></li><li><p>Choose <strong>Actions</strong> > <strong>Security</strong> > <strong>Modify IAM Role</strong>.</p></li><li><p>Select the IAM role created in Step 1 and apply the changes.</p></li></ol><h2 id=step-3-verify-ssm-agent-status>Step 3: Verify SSM Agent Status<a hidden class=anchor aria-hidden=true href=#step-3-verify-ssm-agent-status>#</a></h2><p>Ensure the SSM Agent is running on your instance:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo systemctl status amazon-ssm-agent
</span></span></code></pre></div><p>If the agent is not running, start it with:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo systemctl start amazon-ssm-agent
</span></span></code></pre></div><h2 id=step-4-connect-to-the-instance-using-session-manager>Step 4: Connect to the Instance Using Session Manager<a hidden class=anchor aria-hidden=true href=#step-4-connect-to-the-instance-using-session-manager>#</a></h2><p>With the IAM role attached and the SSM Agent running, you can initiate a session:</p><h3 id=using-aws-console>Using AWS Console<a hidden class=anchor aria-hidden=true href=#using-aws-console>#</a></h3><ol><li><p>Navigate to the <a href=https://console.aws.amazon.com/systems-manager/>Systems Manager Console</a>.</p></li><li><p>Select <strong>Session Manager</strong> > <strong>Start session</strong>.</p></li><li><p>Choose the instance and click <strong>Start session</strong>.</p></li></ol><h3 id=using-aws-cli>Using AWS CLI<a hidden class=anchor aria-hidden=true href=#using-aws-cli>#</a></h3><p>Ensure you have the <a href=https://docs.aws.amazon.com/systems-manager/latest/userguide/session-manager-working-with-install-plugin.html>Session Manager plugin</a> installed.</p><p>Initiate a session with:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>aws ssm start-session --target i-0123456789abcdef0
</span></span></code></pre></div><p>Replace <code>i-0123456789abcdef0</code> with your instance ID.</p><h2 id=step-5-enhance-security-by-disabling-ssh-access>Step 5: Enhance Security by Disabling SSH Access<a hidden class=anchor aria-hidden=true href=#step-5-enhance-security-by-disabling-ssh-access>#</a></h2><p>After verifying that Session Manager access works as intended, you can enhance security by disabling SSH access:</p><ul><li><p><strong>Security Groups</strong>: Remove inbound rules for port 22.</p></li><li><p><strong>Key Pairs</strong>: Avoid assigning key pairs to instances.</p></li><li><p><strong>Bastion Hosts</strong>: Decommission any bastion hosts used for SSH access.</p></li></ul><p>This approach reduces the attack surface and aligns with the principle of least privilege.</p><h2 id=step-6-configure-logging-for-auditing>Step 6: Configure Logging for Auditing<a hidden class=anchor aria-hidden=true href=#step-6-configure-logging-for-auditing>#</a></h2><p>To maintain an audit trail of session activity:</p><ol><li><p>In the Systems Manager Console, navigate to <strong>Session Manager</strong> > <strong>Preferences</strong>.</p></li><li><p>Click <strong>Edit</strong> and enable logging.</p></li><li><p>Choose to send session logs to Amazon S3 and/or Amazon CloudWatch Logs.</p></li></ol><p>This configuration ensures that all session activity is recorded for compliance and auditing purposes.</p><p>Absolutely! Let&rsquo;s enhance your article by adding two comprehensive sections: <strong>Common Issues and Troubleshooting</strong> and <strong>Monitoring SSM Agent with CloudWatch</strong>. These additions will provide readers with practical insights into potential pitfalls and proactive monitoring strategies.</p><hr><h2 id=common-issues-and-troubleshooting>Common Issues and Troubleshooting<a hidden class=anchor aria-hidden=true href=#common-issues-and-troubleshooting>#</a></h2><p>While AWS Systems Manager Session Manager offers a secure and efficient method for managing EC2 instances, users may encounter certain challenges during setup or operation. Below are some common issues and their resolutions:</p><h3 id=1-instance-not-appearing-in-session-manager>1. <strong>Instance Not Appearing in Session Manager</strong><a hidden class=anchor aria-hidden=true href=#1-instance-not-appearing-in-session-manager>#</a></h3><p><strong>Issue</strong>: The EC2 instance does not appear in the Session Manager console.</p><p><strong>Possible Causes and Solutions</strong>:</p><ul><li><p><strong>SSM Agent Not Installed or Running</strong>: Ensure that the SSM Agent is installed and actively running on the instance. For Amazon Linux 2 and Ubuntu 16.04 or later, the agent is pre-installed. For other operating systems, refer to the <a href=https://docs.aws.amazon.com/systems-manager/latest/userguide/ssm-agent.html>SSM Agent installation guide</a>.</p></li><li><p><strong>Missing IAM Role or Incorrect Permissions</strong>: Verify that the instance has an IAM role attached with the <code>AmazonSSMManagedInstanceCore</code> policy. This policy grants the necessary permissions for Systems Manager to manage the instance.</p></li><li><p><strong>Network Connectivity Issues</strong>: The instance must be able to communicate with Systems Manager endpoints. Ensure that the instance has outbound internet access or is configured with the appropriate VPC endpoints for Systems Manager.</p></li></ul><h3 id=2-session-initiation-fails>2. <strong>Session Initiation Fails</strong><a hidden class=anchor aria-hidden=true href=#2-session-initiation-fails>#</a></h3><p><strong>Issue</strong>: Attempting to start a session results in an error.</p><p><strong>Possible Causes and Solutions</strong>:</p><ul><li><p><strong>SSM Agent Version Incompatibility</strong>: Ensure that the SSM Agent is updated to the latest version. Older versions may lack support for certain features or have known issues.</p></li><li><p><strong>Session Manager Plugin Missing</strong>: When using the AWS CLI, the Session Manager plugin must be installed. Follow the <a href=https://docs.aws.amazon.com/systems-manager/latest/userguide/session-manager-working-with-install-plugin.html>installation instructions</a> to set it up.</p></li><li><p><strong>IAM User Permissions</strong>: The IAM user initiating the session must have the necessary permissions, such as <code>ssm:StartSession</code>. Review and update IAM policies as needed.</p></li></ul><h3 id=3-ssm-agent-connectivity-issues>3. <strong>SSM Agent Connectivity Issues</strong><a hidden class=anchor aria-hidden=true href=#3-ssm-agent-connectivity-issues>#</a></h3><p><strong>Issue</strong>: The SSM Agent cannot connect to Systems Manager endpoints.</p><p><strong>Possible Causes and Solutions</strong>:</p><ul><li><p><strong>Firewall or Security Group Restrictions</strong>: Ensure that the instance&rsquo;s security groups and network ACLs allow outbound HTTPS (port 443) traffic to Systems Manager endpoints.</p></li><li><p><strong>DNS Resolution Problems</strong>: Verify that the instance can resolve domain names. Misconfigured DNS settings can prevent the agent from reaching AWS services.</p></li><li><p><strong>Endpoint Configuration</strong>: If using VPC endpoints, confirm that they are correctly configured and associated with the appropriate route tables and security groups.</p></li></ul><p>For a comprehensive troubleshooting guide, refer to the <a href=https://docs.aws.amazon.com/systems-manager/latest/userguide/session-manager-troubleshooting.html>AWS Systems Manager Troubleshooting Documentation</a>.</p><hr><h2 id=monitoring-ssm-agent-with-cloudwatch>Monitoring SSM Agent with CloudWatch<a hidden class=anchor aria-hidden=true href=#monitoring-ssm-agent-with-cloudwatch>#</a></h2><p>Proactive monitoring of the SSM Agent ensures that you are promptly alerted to any issues, maintaining the reliability and security of your EC2 instances. Here&rsquo;s how to set up monitoring using Amazon CloudWatch:</p><h3 id=1-send-ssm-agent-logs-to-cloudwatch-logs>1. <strong>Send SSM Agent Logs to CloudWatch Logs</strong><a hidden class=anchor aria-hidden=true href=#1-send-ssm-agent-logs-to-cloudwatch-logs>#</a></h3><p><strong>Steps</strong>:</p><ol><li><p><strong>Create a CloudWatch Log Group</strong>: In the CloudWatch console, create a log group to store SSM Agent logs.</p></li><li><p><strong>Configure the SSM Agent to Send Logs</strong>: Modify the SSM Agent configuration to send logs to the newly created log group. This can be done by editing the agent&rsquo;s configuration file or using Systems Manager Run Command.</p></li><li><p><strong>Restart the SSM Agent</strong>: After configuration, restart the SSM Agent to apply changes.</p></li></ol><p>For detailed instructions, consult the <a href=https://docs.aws.amazon.com/systems-manager/latest/userguide/monitoring.html>AWS Systems Manager Monitoring Guide</a>.</p><h3 id=2-create-metric-filters-and-alarms>2. <strong>Create Metric Filters and Alarms</strong><a hidden class=anchor aria-hidden=true href=#2-create-metric-filters-and-alarms>#</a></h3><p><strong>Steps</strong>:</p><ol><li><p><strong>Define Metric Filters</strong>: In the CloudWatch console, create metric filters to identify specific log events, such as agent start or stop events. For example, to detect when the agent stops:</p><div class="goat svg-container"><svg font-family="Menlo,Lucida Console,monospace" viewBox="0 0 352 25"><g transform="translate(8,16)"><text text-anchor="middle" x="0" y="4" fill="currentcolor" style="font-size:1em">f</text><text text-anchor="middle" x="8" y="4" fill="currentcolor" style="font-size:1em">i</text><text text-anchor="middle" x="16" y="4" fill="currentcolor" style="font-size:1em">l</text><text text-anchor="middle" x="24" y="4" fill="currentcolor" style="font-size:1em">t</text><text text-anchor="middle" x="32" y="4" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="40" y="4" fill="currentcolor" style="font-size:1em">r</text><text text-anchor="middle" x="56" y="4" fill="currentcolor" style="font-size:1em">p</text><text text-anchor="middle" x="64" y="4" fill="currentcolor" style="font-size:1em">a</text><text text-anchor="middle" x="72" y="4" fill="currentcolor" style="font-size:1em">t</text><text text-anchor="middle" x="80" y="4" fill="currentcolor" style="font-size:1em">t</text><text text-anchor="middle" x="88" y="4" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="96" y="4" fill="currentcolor" style="font-size:1em">r</text><text text-anchor="middle" x="104" y="4" fill="currentcolor" style="font-size:1em">n</text><text text-anchor="middle" x="112" y="4" fill="currentcolor" style="font-size:1em">:</text><text text-anchor="middle" x="128" y="4" fill="currentcolor" style="font-size:1em">"</text><text text-anchor="middle" x="136" y="4" fill="currentcolor" style="font-size:1em">S</text><text text-anchor="middle" x="144" y="4" fill="currentcolor" style="font-size:1em">t</text><text text-anchor="middle" x="152" y="4" fill="currentcolor" style="font-size:1em">o</text><text text-anchor="middle" x="160" y="4" fill="currentcolor" style="font-size:1em">p</text><text text-anchor="middle" x="168" y="4" fill="currentcolor" style="font-size:1em">p</text><text text-anchor="middle" x="176" y="4" fill="currentcolor" style="font-size:1em">i</text><text text-anchor="middle" x="184" y="4" fill="currentcolor" style="font-size:1em">n</text><text text-anchor="middle" x="192" y="4" fill="currentcolor" style="font-size:1em">g</text><text text-anchor="middle" x="208" y="4" fill="currentcolor" style="font-size:1em">s</text><text text-anchor="middle" x="216" y="4" fill="currentcolor" style="font-size:1em">s</text><text text-anchor="middle" x="224" y="4" fill="currentcolor" style="font-size:1em">m</text><text text-anchor="middle" x="240" y="4" fill="currentcolor" style="font-size:1em">a</text><text text-anchor="middle" x="248" y="4" fill="currentcolor" style="font-size:1em">g</text><text text-anchor="middle" x="256" y="4" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="264" y="4" fill="currentcolor" style="font-size:1em">n</text><text text-anchor="middle" x="272" y="4" fill="currentcolor" style="font-size:1em">t</text><text text-anchor="middle" x="288" y="4" fill="currentcolor" style="font-size:1em">w</text><text text-anchor="middle" x="296" y="4" fill="currentcolor" style="font-size:1em">o</text><text text-anchor="middle" x="304" y="4" fill="currentcolor" style="font-size:1em">r</text><text text-anchor="middle" x="312" y="4" fill="currentcolor" style="font-size:1em">k</text><text text-anchor="middle" x="320" y="4" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="328" y="4" fill="currentcolor" style="font-size:1em">r</text><text text-anchor="middle" x="336" y="4" fill="currentcolor" style="font-size:1em">"</text></g></svg></div></li><li><p><strong>Create Alarms</strong>: Based on the metric filters, set up alarms to notify you when certain thresholds are met. For instance, if the agent stops unexpectedly, an alarm can trigger an SNS notification.</p></li><li><p><strong>Subscribe to Notifications</strong>: Ensure that relevant personnel are subscribed to the SNS topic to receive timely alerts.</p></li></ol><p>For a practical example and additional guidance, refer to the AWS blog post on <a href=https://aws.amazon.com/blogs/mt/monitor-health-aws-systems-manager-agent-using-amazon-cloudwatch/>Monitoring the Health of AWS Systems Manager Agent Using Amazon CloudWatch</a>.</p><h2 id=additional-considerations>Additional Considerations<a hidden class=anchor aria-hidden=true href=#additional-considerations>#</a></h2><ul><li><p><strong>User Permissions</strong>: Control who can start sessions by defining IAM policies that grant <code>ssm:StartSession</code> permissions to specific users or roles.</p></li><li><p><strong>Port Forwarding</strong>: Session Manager supports port forwarding, allowing secure access to applications running on instances without opening additional ports.</p></li><li><p><strong>Hybrid Environments</strong>: Session Manager can manage on-premises servers and virtual machines by registering them as managed instances.</p></li></ul><h2 id=conclusion>Conclusion<a hidden class=anchor aria-hidden=true href=#conclusion>#</a></h2><p>By leveraging AWS Systems Manager Session Manager, you can eliminate the need for SSH access to EC2 instances, thereby enhancing security, simplifying access management, and ensuring comprehensive auditing. This approach aligns with AWS&rsquo;s best practices for secure and compliant infrastructure management.</p><hr><p><em>For further reading on IAM misconfigurations and security risks, refer to my previous article: <a href=../aws-security-misconfigurations-guide>AWS IAM Misconfigurations: Security Risks and How to Fix Them</a>.</em></p><p><em>To explore incident response strategies in AWS, check out: <a href=../incident-response-aws-guide>Incident Response in AWS: A Practical Playbook</a>.</em></p><p><em>For tools to automate incident response, visit: <a href=../aws-ir-toolkit>AWS Incident Response Toolkit</a>.</em></p><p><em>Learn about securing temporary AWS credentials here: <a href=../aws-temporary-credentials-security>Securing Temporary AWS Credentials with STS</a>.</em></p><hr></div><section class="mt-10 border-t border-gray-700 pt-6"><div class="flex items-center space-x-4"><div class=text-gray-400><p class=text-sm>Written by <span class="font-semibold text-gray-300">Javier Pulido</span><br>Cloud Security Engineer | Founder of <span class=italic>The Hidden Port</span><br><a href=/about/ class="text-primary hover:underline text-sm">Learn more ➔</a></p></div></div></section><hr><section class=mt-10><h2 style=padding-bottom:10px class="text-2xl font-semibold mb-4">Related Posts by tags</h2><br><span><a style=font-size:17px href=https://thehiddenport.dev/posts/aws-ec2-hardening/ class="title next hover:text-primary">Hardening EC2 Instances for AWS Security: A Practical Guide</a></span></br></section><hr><footer class=post-footer><ul class=post-tags><li><a href=https://thehiddenport.dev/tags/aws/>Aws</a></li><li><a href=https://thehiddenport.dev/tags/ec2/>EC2</a></li><li><a href=https://thehiddenport.dev/tags/security/>Security</a></li><li><a href=https://thehiddenport.dev/tags/session-manager/>Session Manager</a></li><li><a href=https://thehiddenport.dev/tags/ssm/>Ssm</a></li><li><a href=https://thehiddenport.dev/tags/iam/>Iam</a></li><li><a href=https://thehiddenport.dev/tags/cloud-security/>Cloud-Security</a></li></ul><nav class=paginav><a class=prev href=https://thehiddenport.dev/posts/aws-enforcing-least-privilege/><span class=title>« Prev</span><br><span>Enforcing Least Privilege in AWS IAM with Access Analyzer and Last Access Data</span>
</a><a class=next href=https://thehiddenport.dev/posts/aws-ec2-hardening/><span class=title>Next »</span><br><span>Hardening EC2 Instances for AWS Security: A Practical Guide</span></a></nav><ul class=share-buttons><li><a target=_blank rel="noopener noreferrer" aria-label="share Securing EC2 Access with AWS Systems Manager Session Manager: Eliminating SSH on x" href="https://x.com/intent/tweet/?text=Securing%20EC2%20Access%20with%20AWS%20Systems%20Manager%20Session%20Manager%3a%20Eliminating%20SSH&amp;url=https%3a%2f%2fthehiddenport.dev%2fposts%2faws-securing-ec2-access-with-ssm%2f&amp;hashtags=AWS%2cEC2%2cSecurity%2cSessionManager%2cSSM%2cIAM%2cCloudSecurity"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446C483.971.0 512 28.03 512 62.554zM269.951 190.75 182.567 75.216H56L207.216 272.95 63.9 436.783h61.366L235.9 310.383l96.667 126.4H456L298.367 228.367l134-153.151H371.033zM127.633 110h36.468l219.38 290.065H349.5z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Securing EC2 Access with AWS Systems Manager Session Manager: Eliminating SSH on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fthehiddenport.dev%2fposts%2faws-securing-ec2-access-with-ssm%2f&amp;title=Securing%20EC2%20Access%20with%20AWS%20Systems%20Manager%20Session%20Manager%3a%20Eliminating%20SSH&amp;summary=Securing%20EC2%20Access%20with%20AWS%20Systems%20Manager%20Session%20Manager%3a%20Eliminating%20SSH&amp;source=https%3a%2f%2fthehiddenport.dev%2fposts%2faws-securing-ec2-access-with-ssm%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Securing EC2 Access with AWS Systems Manager Session Manager: Eliminating SSH on reddit" href="https://reddit.com/submit?url=https%3a%2f%2fthehiddenport.dev%2fposts%2faws-securing-ec2-access-with-ssm%2f&title=Securing%20EC2%20Access%20with%20AWS%20Systems%20Manager%20Session%20Manager%3a%20Eliminating%20SSH"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Securing EC2 Access with AWS Systems Manager Session Manager: Eliminating SSH on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fthehiddenport.dev%2fposts%2faws-securing-ec2-access-with-ssm%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Securing EC2 Access with AWS Systems Manager Session Manager: Eliminating SSH on whatsapp" href="https://api.whatsapp.com/send?text=Securing%20EC2%20Access%20with%20AWS%20Systems%20Manager%20Session%20Manager%3a%20Eliminating%20SSH%20-%20https%3a%2f%2fthehiddenport.dev%2fposts%2faws-securing-ec2-access-with-ssm%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Securing EC2 Access with AWS Systems Manager Session Manager: Eliminating SSH on telegram" href="https://telegram.me/share/url?text=Securing%20EC2%20Access%20with%20AWS%20Systems%20Manager%20Session%20Manager%3a%20Eliminating%20SSH&amp;url=https%3a%2f%2fthehiddenport.dev%2fposts%2faws-securing-ec2-access-with-ssm%2f"><svg viewBox="2 2 28 28" height="30" width="30" fill="currentcolor"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Securing EC2 Access with AWS Systems Manager Session Manager: Eliminating SSH on ycombinator" href="https://news.ycombinator.com/submitlink?t=Securing%20EC2%20Access%20with%20AWS%20Systems%20Manager%20Session%20Manager%3a%20Eliminating%20SSH&u=https%3a%2f%2fthehiddenport.dev%2fposts%2faws-securing-ec2-access-with-ssm%2f"><svg width="30" height="30" viewBox="0 0 512 512" fill="currentcolor" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"><path d="M449.446.0C483.971.0 512 28.03 512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446zM183.8767 87.9921h-62.034L230.6673 292.4508V424.0079h50.6655V292.4508L390.1575 87.9921H328.1233L256 238.2489z"/></svg></a></li></ul></footer><div id=comments class=comments><script src=https://giscus.app/client.js data-repo=fpulidov/fpulidov.github.io data-repo-id=R_kgDOOcWbuA data-category=Comments data-category-id=DIC_kwDOOcWbuM4CvIMS data-mapping=pathname data-strict=0 data-reactions-enabled=1 data-emit-metadata=0 data-input-position=top data-theme=dark data-lang=en data-loading=lazy crossorigin=anonymous async></script></div></article></main><footer class=footer><span>&copy; 2025 <a href=https://thehiddenport.dev/>The Hidden Port</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><style>.subscribe-footer{margin-top:3rem;padding-top:1.5rem;border-top:1px solid #444;text-align:center!important;justify-content:center;align-items:center}.subscribe-footer .eo-wrapper{width:100%;max-width:500px;display:flex;justify-content:center}</style><div class=subscribe-footer><a href=/disclaimer/ class="linktext-xs text-gray-500 hover:text-primary">Disclaimer</a></div><script>const form=document.getElementById("newsletter-form"),successMessage=document.getElementById("subscribe-success");form.addEventListener("submit",async function(e){e.preventDefault();const t=new FormData(form),n=await fetch(form.action,{method:form.method,body:t});n.ok&&(form.reset(),successMessage.classList.add("show"),successMessage.scrollIntoView({behavior:"smooth",block:"center"}),setTimeout(()=>{successMessage.classList.remove("show"),successMessage.classList.add("hide")},5e3))})</script><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script><script async src=https://eocampaign1.com/form/fbc81a40-4aea-11f0-aff3-45842a94a714.js data-form=fbc81a40-4aea-11f0-aff3-45842a94a714></script></body></html>